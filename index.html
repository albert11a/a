<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <title>Analiza e Lëkurës</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- Mediapipe dhe TensorFlow JS bibliotekat -->
    <script defer src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@tensorflow-models/face-landmarks-detection"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils"></script>
    <!-- JavaScript -->
    <script defer src="script.js"></script>
</head>
<body>

    <!-- Kutia e Pyetjeve dhe Përgjigjeve -->
    <div id="question-container">

        <!-- Pyetja 1: Selfie -->
        <div class="question-box" id="question1">
            <h3>Selfie</h3>
            <h6>Ju lutem bëni një selfie të lëkurës tuaj tek butoni më poshtë.</h6>
        </div>

        <!-- Opsionet e Përgjigjeve për Pyetjen 1 -->
        <div id="answers1" class="answer-box">
            <button class="answer-button" onclick="openCamera()">Bëni selfin këtu</button>
        </div>

        <!-- Butonat e Navigimit për Pyetjen 1 -->
        <div class="nav-buttons" id="nav-buttons1">
            <!-- Nuk nevojitet butoni "Vazhdo", pasi kalojmë automatikisht në pyetjen tjetër -->
        </div>

        <!-- Pyetja 2: Tipi i Lëkurës -->
        <div class="question-box" id="question2" style="display: none;">
            <h3>Tipi i Lëkurës</h3>
            <h6>Mund të përshkruani llojin e lëkurës suaj?</h6>
        </div>

        <!-- Butonat e Navigimit për Pyetjen 2 -->
        <div class="nav-buttons" id="nav-buttons2" style="display: none;">
            <button class="answer-button left disabled" onclick="navigateBack(1)">Mbrapa</button>
            <button class="answer-button right vazhdo-button disabled" onclick="nextQuestion(3)">Vazhdo</button>
        </div>

        <!-- Opsionet e Përgjigjeve për Pyetjen 2 -->
        <div id="answers2" class="answer-options" style="display: none;">
            <div class="answer-box" onclick="toggleSelection(this)">
                <h5 class="answer-title">LËKURË TË</h5>
                <h3 class="answer-heading">Thatë</h3>
                <h6>Lëkura juaj është e thatë</h6>
            </div>
            <div class="answer-box" onclick="toggleSelection(this)">
                <h5 class="answer-title">LËKURË TË</h5>
                <h3 class="answer-heading">Yndyrshme</h3>
                <h6>Lëkura juaj është e yndyrshme</h6>
            </div>
            <div class="answer-box" onclick="toggleSelection(this)">
                <h5 class="answer-title">LËKURË TË</h5>
                <h3 class="answer-heading">Kombinuar</h3>
                <h6>Lëkura juaj është e kombinuar</h6>
            </div>
            <div class="answer-box" onclick="toggleSelection(this)">
                <h5 class="answer-title">LËKURË</h5>
                <h3 class="answer-heading">Normale</h3>
                <h6>Lëkura juaj është normale</h6>
            </div>
        </div>

        <!-- Pyetja 3: Problematikat -->
        <div class="question-box" id="question3" style="display: none;">
            <h3>Problematikat</h3>
            <h6>Ju lutem specifikoni problemet e lëkurës tuaj</h6>
        </div>

        <!-- Butonat e Navigimit për Pyetjen 3 -->
        <div class="nav-buttons" id="nav-buttons3" style="display: none;">
            <button class="answer-button left" onclick="navigateBack(2)">Mbrapa</button>
            <button class="answer-button right vazhdo-button disabled" onclick="nextQuestion(4)">Vazhdo</button>
        </div>

        <!-- Opsionet e Përgjigjeve për Pyetjen 3 -->
        <div id="answers3" class="answer-options" style="display: none;">
            <div class="answer-box" onclick="toggleSelection(this)">
                <h3 class="answer-heading">Akne</h3>
                <h6>Problemi juaj është akne</h6>
            </div>
            <div class="answer-box" onclick="toggleSelection(this)">
                <h3 class="answer-heading">Poret</h3>
                <h6>Problemi juaj janë poret e zgjeruara</h6>
            </div>
            <div class="answer-box" onclick="toggleSelection(this)">
                <h3 class="answer-heading">Hiperpigmentim</h3>
                <h6>Problemi juaj është hiperpigmentimi</h6>
            </div>
            <div class="answer-box" onclick="toggleSelection(this)">
                <h3 class="answer-heading">Rrudhat</h3>
                <h6>Problemi juaj janë rrudhat</h6>
            </div>
            <!-- Neue Antwortoption -->
            <div class="answer-box" onclick="toggleSelection(this)">
                <h3 class="answer-heading">Mirembajtje</h3>
                <h6>Deshironi vetem nje mirembajte te lekures tuaj.</h6>
            </div>
        </div>
        
        <!-- Pyetja 4: Sensitiviteti -->
        <div class="question-box" id="question4" style="display: none;">
            <h3>Sensitiviteti</h3>
            <h6>Sa është lëkura juaj sensitive?</h6>
        </div>

        <!-- Opsionet e Përgjigjeve për Pyetjen 4 -->
        <div id="answers4" class="answer-options" style="display: none;">
            <label for="sensitivityRange" style="display: block; font-weight: bold;">Ndjeshmëria: <span id="sensitivityValue">5</span></label>
            <input type="range" id="sensitivityRange" min="0" max="10" value="5" oninput="updateSensitivityValue(this.value)">
        </div>

        <!-- Butonat e Navigimit për Pyetjen 4 -->
        <div class="nav-buttons spaced-buttons" id="nav-buttons4" style="display: none;">
            <button class="answer-button left" onclick="navigateBack(3)">Mbrapa</button>
            <button class="answer-button right vazhdo-button" onclick="nextQuestion(5)">Vazhdo</button>
        </div>

        <!-- Pyetja 5: Emri -->
        <div class="question-box" id="question5" style="display: none;">
            <h3>Emri</h3>
            <h6>Si quheni ju lutemi?</h6>
        </div>

        <!-- Opsionet e Përgjigjeve për Pyetjen 5 (Emri) -->
        <div id="answers5" style="display: none;">
            <div class="input-container">
                <input type="text" id="nameInput" placeholder="Emri juaj" required>
            </div>
        </div>

        <!-- Butonat e Navigimit për Pyetjen 5 -->
        <div class="nav-buttons spaced-buttons" id="nav-buttons5" style="display: none;">
            <button class="answer-button left" onclick="navigateBack(4)">Mbrapa</button>
            <button class="answer-button right vazhdo-button" onclick="nextQuestion(6)">Vazhdo</button>
        </div>

        <!-- Pyetja 6: Mosha -->
        <div class="question-box" id="question6" style="display: none;">
            <h3>Mosha</h3>
            <h6>Sa vjeç jeni?</h6>
        </div>

        <!-- Opsionet e Përgjigjeve për Pyetjen 6 (Mosha) -->
        <div id="answers6" style="display: none;">
            <div class="input-container">
                <input type="text" id="ageInput" placeholder="Mosha juaj" required>
            </div>
        </div>

        <!-- Butonat e Navigimit për Pyetjen 6 -->
        <div class="nav-buttons spaced-buttons" id="nav-buttons6" style="display: none;">
            <button class="answer-button left" onclick="navigateBack(5)">Mbrapa</button>
            <button class="answer-button right vazhdo-button" onclick="finishQuestionnaire()">Përfundo</button>
        </div>

    </div>

    <!-- Kontejneri i Kamerës -->
    <div id="cameraContainer" style="display: none;">
        <!-- Video dhe Overlay -->
        <video id="cameraView" autoplay playsinline></video>
        <canvas id="overlay"></canvas>

        <!-- Kufijtë e zinj, gjysmë transparentë sipër dhe poshtë -->
        <div id="topBorder"></div>
        <div id="bottomBorder"></div>

        <!-- Kontejneri i Butonit dhe Logos -->
        <div id="buttonLogoContainer">
            <!-- Logo -->
            <img id="logo" src="logo.gif" alt="Logo">
            <!-- Butoni i Fotos -->
            <button id="takePhotoButton" onclick="takePhoto()">
                <img src="button.gif" alt="Bëni Foto">
            </button>
        </div>

        <!-- Butoni për Mbyllje -->
        <button onclick="closeCamera()" id="closeButton" class="close-button">Mbyll</button>
    </div>
</body>
</html>
